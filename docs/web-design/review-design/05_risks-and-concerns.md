# リスク・懸念事項

## 概要

| 項目 | 内容 |
|------|------|
| チケットID | WEB-DESIGN-001 |
| レビューラウンド | 1 |
| レビュー日 | 2026-02-27 |

---

## 1. 設計上のリスク

| リスク | 影響度 | 発生可能性 | 設計での対応 | 評価 |
|--------|--------|------------|-------------|------|
| Open VSX制約によるCopilot拡張機能不動作 | 高 | 確実 | `\|\| true`で失敗許容 | ❌ 不十分（MRD-002） |
| bind mount環境でのHMR不動作 | 中 | 中 | usePolling設定 | ✅ 対応済み |
| DooD時のUID/GID不一致 | 中 | 低 | start-code-server.shで調整 | ✅ 対応済み |
| code-server認証なし | 中 | 低 | ローカル開発限定 | ⚠️ 明文化不足（MRD-005） |

---

## 2. investigation指摘リスクへの対応

| investigationリスク | 設計での対応 | 評価 |
|--------------------|-------------|------|
| Open VSX Registry制約 | Copilot: VSIX試行+CLIフォールバック | ⚠️ 設計が曖昧（MRD-002） |
| bind mount I/O遅延 | Vite usePolling設定 | ✅ 対応済み |
| --privileged要求 | ローカル開発限定で許容 | ✅ 対応済み |

---

## 3. パフォーマンスリスク

| リスク | 影響 | 対策 | 評価 |
|--------|------|------|------|
| bind mount I/O | npm install/ビルド遅延 | 初回は許容、named volume追加を検討 | ✅ 適切 |
| 拡張機能読込 | code-server起動遅延 | 7個に限定 | ✅ 適切 |
| HMRポーリング | CPU使用率増加 | usePolling設定 | ✅ 適切 |

---

## 4. セキュリティリスク

| リスク | 影響 | 対策 | 評価 |
|--------|------|------|------|
| code-server --auth none | LAN内からアクセス可能 | ローカル開発限定 | ⚠️ MRD-005: 明文化必要 |
| --privileged | コンテナエスケープ可能性 | ローカル開発限定 | ✅ 許容 |
| Docker socket共有(DooD) | ホストDocker完全アクセス | ローカル開発限定 | ✅ 許容 |

---

## 5. 互換性リスク

| リスク | 影響 | 評価 |
|--------|------|------|
| ARM Mac（Apple Silicon） | エミュレーション実行 | ✅ 認識済み |
| Windows WSL2 | 未検証 | ✅ 制約として記載済み |

---

## 6. スコープ外項目

| 項目 | 評価 | 備考 |
|------|------|------|
| claude-code feature | 🔵 Info (MRD-010) | スコープ外だが追加されている。影響は軽微 |
| Prettier重複 | 🔵 Info (MRD-011) | featureとnpm両方に存在。実害なし |

---

## 変更履歴

| 日付 | バージョン | 変更内容 | 変更者 |
|------|------------|----------|--------|
| 2026-02-27 | 1.0 | 初版作成 | Copilot |
