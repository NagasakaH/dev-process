# テスト可能性レビュー

## 概要

| 項目 | 内容 |
|------|------|
| チケットID | WEB-DESIGN-001 |
| レビューラウンド | 1 |
| レビュー日 | 2026-02-27 |

---

## 1. テスト設計の評価

### 1.1 テストスコープ

| 項目 | 評価 | 備考 |
|------|------|------|
| E2Eテストのみ | ✅ 適切 | brainstormingで決定済み |
| Playwright使用 | ✅ 適切 | devcontainer featureで依存自動インストール |
| テストケース数 (6件) | ✅ 適切 | 主要機能をカバー |

### 1.2 acceptance_criteria カバレッジ

| acceptance_criteria | テストケース | カバー状況 | 備考 |
|---------------------|-------------|------------|------|
| devcontainerでcode-serverが起動し、ブラウザからアクセスできる | E2E-1 | ✅ カバー | |
| Reactプロジェクトが初期化され、code-server上でプレビューできる | E2E-2 | ✅ カバー | |
| DooD/DinD切り替え機構が動作する | E2E-5, E2E-6 | ✅ カバー | |
| copilot CLI, git, playwright, prettierが使用可能 | E2E-4 | ⚠️ 部分的 | copilot CLIのバージョン確認が未設計 |
| code-serverにReact開発用拡張機能がインストールされている | E2E-3 | ✅ カバー | |
| code-serverにGitHub Copilot拡張機能がインストールされている | E2E-3 | ❌ 未カバー | MRD-004: Open VSX制約でインストール不可。CLIフォールバック確認に変更すべき |
| 画面デザインのモック作成・プレビューのワークフローが確立されている | E2E-2 | ⚠️ 部分的 | MSWモック応答の検証が未設計 |
| Reactアプリのホットリロードがcode-server環境で動作すること | なし | ❌ 未カバー | MRD-004: HMR反映確認テストが未設計 |

---

## 2. テスト実装の問題

### 2.1 コンテナ名のプレースホルダー

- `extensions.spec.ts` と `docker-mode.spec.ts` で `docker exec <container>` がプレースホルダー
- テストを実行するには、コンテナ名を動的に取得する仕組みが必要（MRD-003参照）

### 2.2 DooD/DinDテストの実行方法

- E2E-5 (DinD) と E2E-6 (DooD) は異なるDOCKER_MODEでコンテナを起動する必要がある
- 同一テストスイート内での切り替え方法が未設計（MRD-006参照）

---

## 3. テストデータ設計の評価

| 項目 | 評価 | 備考 |
|------|------|------|
| devcontainerイメージ | ✅ 適切 | テスト前にビルド |
| Reactプロジェクトファイル | ✅ 適切 | src/App.tsx等 |
| MSWモックデータ | ⚠️ 不足 | モック応答の検証テストが未設計 |

---

## 4. 指摘事項

| ID | 重大度 | 指摘内容 |
|----|--------|----------|
| MRD-004 | 🟠 Major | E2Eテスト設計でacceptance_criteriaの以下項目が未検証: Copilot拡張機能のインストール確認（CLIフォールバック確認に変更すべき）、copilot CLIのバージョン確認、HMR反映確認、MSWモック応答確認 |

---

## 変更履歴

| 日付 | バージョン | 変更内容 | 変更者 |
|------|------------|----------|--------|
| 2026-02-27 | 1.0 | 初版作成 | Copilot |
