---
name: verification-before-completion
description: 作業完了、修正済み、テスト通過などを主張する前、コミットやPR作成前に使用。検証コマンドを実行し出力を確認してから成功を主張する。「検証」「確認して」「テスト実行」などのフレーズで発動。
---

# 完了前検証スキル

検証なしに完了を主張することは効率ではなく不誠実です。主張の前に常に証拠を示してください。

## 主要機能

### ゲート関数

1. **IDENTIFY**: この主張を証明するコマンドは何か？
2. **RUN**: 完全なコマンドを実行（新規、完全）
3. **READ**: 出力全体を読み、終了コードを確認
4. **VERIFY**: 出力が主張を裏付けるか？
5. **CLAIM**: 証拠と共に主張

## 鉄則

```
新しい検証証拠なしに完了を主張しない
```

## よくある失敗

| 主張 | 必要なもの | 不十分なもの |
|------|------------|--------------|
| テスト通過 | テストコマンド出力: 0失敗 | 前回の実行、「通るはず」 |
| リンタークリア | リンター出力: 0エラー | 部分チェック |
| ビルド成功 | ビルドコマンド: exit 0 | リンター通過 |
| バグ修正済み | 元の症状のテスト通過 | コード変更、修正済み仮定 |

## レッドフラグ

- 「〜はず」「おそらく」「〜のようだ」を使用
- 検証前に満足を表明（「完了！」「完璧！」）
- 検証なしでコミット/PR作成
- エージェントの成功報告を信頼

## project.yaml への記録

> **Note**: ワークフローの正式な検証ステップでは `verification` スキルが `project.yaml` の `verification` セクションを管理します。このスキルは汎用品質ルールとして、各ステップ内での完了主張前の検証ゲートとして機能します。

検証完了後の記録は `verification` スキルに委譲してください。

## 関連スキル

- 参照元: `implement` - タスク完了前の検証ゲート
- 参照元: `commit` - コミット前検証
- 参照元: `finishing-branch` - オプション提示前検証
- 参照元: `systematic-debugging` - 修正成功確認
