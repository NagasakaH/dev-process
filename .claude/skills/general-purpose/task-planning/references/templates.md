# タスク計画成果物テンプレート

目次:
1. [task-plan.md テンプレート](#task-planmd-テンプレート)
2. [dependency-graph.md テンプレート](#dependency-graphmd-テンプレート)
3. [parallel-groups.md テンプレート](#parallel-groupsmd-テンプレート)

---

## task-plan.md テンプレート

```markdown
# タスク計画書

## メタ情報

| 項目 | 値 |
|------|-----|
| 設計書 | [design-document.mdへのパス] |
| 計画作成日 | YYYY-MM-DD |
| 計画者 | [エージェント名] |
| 総タスク数 | N件 |
| 推定総時間 | X時間 |

## 依存関係サマリー

<!-- dependency-graph.md への参照 -->
詳細: [dependency-graph.md](dependency-graph.md)

## 並列実行グループサマリー

| グループ | タスク | 備考 |
|----------|--------|------|
| Group 1 | task01 | 単独実行 |
| Group 2 | task02-01, task02-02 | 並列実行可能 |
| Group 3 | task03 | Group 2完了後 |

<!-- parallel-groups.md への参照 -->
詳細: [parallel-groups.md](parallel-groups.md)

---

## タスク一覧

### task01: [タスク名]

| 項目 | 内容 |
|------|------|
| 前提条件タスク | なし |
| 並列実行可否 | 不可（初期タスク） |
| 推定所要時間 | X時間 |
| 優先度 | 高 |

**目的**: [このタスクで達成すること]

**作業内容**:
1. [作業ステップ1]
2. [作業ステップ2]
3. [作業ステップ3]

**完了条件**:
- [ ] [検証可能な条件1]
- [ ] [検証可能な条件2]

---

### task02-01: [タスク名]

| 項目 | 内容 |
|------|------|
| 前提条件タスク | task01 |
| 並列実行可否 | 可（task02-02と並列） |
| 推定所要時間 | X時間 |
| 優先度 | 中 |

**目的**: [このタスクで達成すること]

**作業内容**:
1. [作業ステップ1]
2. [作業ステップ2]

**完了条件**:
- [ ] [検証可能な条件1]
- [ ] [検証可能な条件2]

---

### task02-02: [タスク名]

| 項目 | 内容 |
|------|------|
| 前提条件タスク | task01 |
| 並列実行可否 | 可（task02-01と並列） |
| 推定所要時間 | X時間 |
| 優先度 | 中 |

**目的**: [このタスクで達成すること]

**作業内容**:
1. [作業ステップ1]
2. [作業ステップ2]

**完了条件**:
- [ ] [検証可能な条件1]
- [ ] [検証可能な条件2]

---

### task03: [タスク名]

| 項目 | 内容 |
|------|------|
| 前提条件タスク | task02-01, task02-02 |
| 並列実行可否 | 不可 |
| 推定所要時間 | X時間 |
| 優先度 | 高 |

**目的**: [このタスクで達成すること]

**作業内容**:
1. [作業ステップ1]
2. [作業ステップ2]

**完了条件**:
- [ ] [検証可能な条件1]
- [ ] [検証可能な条件2]

---

## チェックポイント

| ID | タイミング | チェック内容 | 確認者 |
|----|------------|--------------|--------|
| CP1 | task01完了後 | 環境・基盤の動作確認 | 親エージェント |
| CP2 | Group 2完了後 | 各機能の単体確認 | 親エージェント |
| CP3 | task03完了後 | 統合テスト・最終確認 | 親エージェント |

## 備考

- [特記事項や注意点]
- [リスク要因]
- [代替案]
```

---

## dependency-graph.md テンプレート

```markdown
# 依存関係図

## 概要

タスク間の依存関係をmermaid形式で図示。

## 依存関係図

\`\`\`mermaid
graph TD
    subgraph "Phase 1: 基盤"
        task01[task01: 基盤準備]
    end

    subgraph "Phase 2: 機能実装"
        task02-01[task02-01: 機能A]
        task02-02[task02-02: 機能B]
    end

    subgraph "Phase 3: 統合"
        task03[task03: 統合・テスト]
    end

    task01 --> task02-01
    task01 --> task02-02
    task02-01 --> task03
    task02-02 --> task03
\`\`\`

## 依存関係テーブル

| タスク | 依存先 | 依存種別 |
|--------|--------|----------|
| task01 | なし | - |
| task02-01 | task01 | FS (Finish-to-Start) |
| task02-02 | task01 | FS (Finish-to-Start) |
| task03 | task02-01, task02-02 | FS (Finish-to-Start) |

## クリティカルパス

最長パス（全体所要時間を決定するパス）:

```
task01 → task02-01 → task03
```

推定所要時間: X時間
```

---

## parallel-groups.md テンプレート

```markdown
# 並列実行グループ定義

## 概要

タスクの並列実行可能性を定義。各グループ内のタスクは同時に実行可能。

## 並列実行グループ

### Group 1: 基盤準備

| タスク | 推定時間 | 備考 |
|--------|----------|------|
| task01 | X時間 | 単独実行 |

**開始条件**: なし（初期グループ）
**完了条件**: task01が完了

---

### Group 2: 機能実装（並列）

| タスク | 推定時間 | 備考 |
|--------|----------|------|
| task02-01 | X時間 | 機能A |
| task02-02 | X時間 | 機能B |

**開始条件**: Group 1完了（task01完了）
**完了条件**: task02-01, task02-02 すべて完了

**並列実行の根拠**:
- 相互依存なし
- リソース競合なし
- 共有状態変更なし

---

### Group 3: 統合

| タスク | 推定時間 | 備考 |
|--------|----------|------|
| task03 | X時間 | 最終統合 |

**開始条件**: Group 2完了（task02-01, task02-02完了）
**完了条件**: task03完了

---

## 実行フロー図

\`\`\`mermaid
gantt
    title タスク実行計画
    dateFormat HH:mm
    axisFormat %H:%M

    section Group 1
    task01: 基盤準備 :g1t1, 00:00, 1h

    section Group 2 (並列)
    task02-01: 機能A :g2t1, after g1t1, 2h
    task02-02: 機能B :g2t2, after g1t1, 1.5h

    section Group 3
    task03: 統合 :g3t1, after g2t1 g2t2, 1h
\`\`\`

## 並列実行制約

| 制約 | 対象タスク | 理由 |
|------|------------|------|
| 排他 | なし | - |
| リソース | なし | - |

## 注意事項

- 並列実行中に問題が発生した場合、グループ内の他タスクへの影響を評価すること
- 各グループ完了時にチェックポイントで進捗確認を行う
```

---

## 使用方法

1. 上記テンプレートを出力先にコピー
2. `[...]` 部分を実際の値に置き換え
3. タスク数に応じてセクションを追加・削除
4. mermaid図を実際の依存関係に合わせて更新
