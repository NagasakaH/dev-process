# =============================================================================
# 開発セットアップ設定ファイル（SSOT: Single Source of Truth）
# =============================================================================
# このファイルが開発タスクに関する唯一の情報源です。
# design-document やスキルは、このファイルの description から値を参照します。
#
# 使用方法:
#   1. このファイルをコピーして setup.yaml を作成
#   2. 各フィールドを編集
#   3. init-work-branch スキルを実行
# =============================================================================

# タスク名（作業の概要を簡潔に記述）
task_name: "機能Aの実装"

# チケットID（ブランチ名やドキュメントのベースとなる識別子）
# 例: "PROJ-123", "123", "feature-456"
ticket_id: "TICKET-001"

# =============================================================================
# 説明（階層化フォーマット）
# =============================================================================
# 各フィールドは design-document や各スキルから参照されます。
# - overview: design-document の「概要」セクション
# - purpose: design-document の「目的」セクション
# - background: dev-investigation が参照（調査の背景情報）
# - requirements: dev-design が参照（設計の要件）
# - acceptance_criteria: dev-plan が参照（完了条件の基準）
# - scope: 実装範囲の定義
# - out_of_scope: 今回対象外の事項
# - notes: その他の補足情報
# =============================================================================
description:
  # 概要: タスクの簡潔な説明（1-2文）
  overview: |
    機能Aを新規実装し、ユーザーが○○できるようにする。

  # 目的: なぜこのタスクを行うのか
  purpose: |
    - ユーザー体験の向上
    - 運用効率の改善
    - 競合サービスとの機能差を埋める

  # 背景: 現状の課題や経緯
  # dev-investigation スキルが参照
  background: |
    現在の機能では以下の課題がある:
    - 課題1: ○○ができない
    - 課題2: △△に時間がかかる
    
    これらの課題を解決するため、機能Aの実装が必要。

  # 要件: 実装すべき機能要件・非機能要件
  # dev-design スキルが参照
  requirements:
    functional:
      - "ユーザーが○○を実行できること"
      - "結果が△△形式で出力されること"
      - "エラー時に適切なメッセージが表示されること"
    non_functional:
      - "応答時間: 200ms以内"
      - "同時リクエスト: 100件/秒対応"
      - "後方互換性を維持"

  # 受け入れ条件: 完了とみなす基準
  # dev-plan スキルが参照
  acceptance_criteria:
    - "単体テストが全てパスすること"
    - "結合テストが全てパスすること"
    - "既存機能の回帰テストがパスすること"
    - "ドキュメントが更新されていること"
    - "コードレビューが承認されていること"

  # スコープ: 今回の実装範囲
  scope:
    - "機能Aの実装"
    - "関連APIエンドポイントの追加"
    - "単体テスト・結合テストの作成"

  # スコープ外: 今回対象外の事項（明確化のため）
  out_of_scope:
    - "既存機能Bの改修"
    - "パフォーマンスチューニング（別チケットで対応）"
    - "UI/UXの大幅な変更"

  # 補足: その他の参考情報
  notes: |
    - 参考ドキュメント: https://example.com/docs
    - 関連チケット: #456, #789
    - 担当者との合意事項: ○○について△△方針で進める

# =============================================================================
# リポジトリ設定
# =============================================================================

# 関連リポジトリ一覧（submodule用）
# 参照・調査のためにサブモジュールとして追加するリポジトリ
related_repositories:
  - name: "example-library"
    url: "https://github.com/org/example-library.git"
    # branch: "main"  # オプション: 特定のブランチを指定する場合
  # - name: "another-repo"
  #   url: "https://github.com/org/another-repo.git"
  #   branch: "develop"

# 修正対象リポジトリ
# 実際にコード変更を行うリポジトリ（サブモジュールとして追加され、featureブランチが作成される）
target_repositories:
  - name: "main-application"
    url: "https://github.com/org/main-application.git"
    # base_branch: "main"  # オプション: feature ブランチの作成元となるブランチ（デフォルト: main）
  # - name: "api-server"
  #   url: "https://github.com/org/api-server.git"
  #   base_branch: "develop"

# =============================================================================
# オプション設定
# =============================================================================
options:
  # 設計ドキュメントを作成するかどうか（デフォルト: true）
  create_design_document: true
  
  # 設計ドキュメントの出力先ディレクトリ（デフォルト: docs）
  design_document_dir: "docs"
  
  # サブモジュールのディレクトリ（デフォルト: submodules）
  submodules_dir: "submodules"
